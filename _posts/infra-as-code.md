---
layout: post
title:  "Provisioning"
date:   2019-10-22 10:45:22 +0900
categories: infra
---
번역: https://www.future-processing.pl/blog/infrastructure-as-code-provisioning/

### 위 글은 웹 프로젝트의 분산 인프라 자동화 주제를 다룬 세가지 글의 첫번째 시리즈입니다.

# 나한테 먹힌다
소프트웨어 개발 프로세스에서 가장 흔하게 만날수 있는 문제중 하나는, 개발자의 컴퓨터에선 잘 작동하는데, 다른 머신에서 작동시키면 에러가 나는 상황이다. 여러가지 설정이나 하드웨어 오류등으로 발생할 수 있는 문제다. 이런 상황을 피할려면, 세가지 방법이 있다.
- 여러가지 다른 종류의 테스트를 쓰고 실행해본다.
- 변화를 tracking하고 control한다
- 가상화

우리 대부분, 개발자는 단지 인간이며, 당연히 실수를 할 수 있다는 점을 알고 있어야한다. "Human Factor"를 줄일 때 굉장히 중요한점은 *"자동화"* 이다. Manual 하게 특정 태스크, 특히 반복적인 것을 수행하는 것은 에러 발생소지가 다분하다는 점을 기억해야한다.

숙련된 개발자들은 매일매일의 업무에 대해서는 위에 언급한 중요성을 잘 인지하고 있다. 하지만 인프라 이슈는 제 3자에게로 넘겨지고 일시적 업무로 여겨진다. 증가하는 사용자들과 니즈들에 dynamic하게 성장하는 application을 도입할때 그런 접근을 하는 것은 재앙이다. 문제를 피하기 위해선, 가장 간단한 해결책은 개발자들의 Best Practice를 Reproduce하여 Infra에 적용하는 것이다. 

이런 접근을 하게되면 인프라는 이런 장점들을 갖게된다.
- Infrastructure 의 문서화: OS 설정을 code의 형태로 관리함
- Reproducibility(재현)과 Portablity(이식성): 설정 프로세스는 많은 다른 머신들, 심지어 다른 OS 를 가진 머신들 위에서 똑같은 방법으로 정확히 같은 효과를 줄 수 있음
- Testability: 시스템 셋팅을 테스트할 기회
- Inspection and tracking changes: 어플리케이션 코드의 변화는 인프라에 연관된 요구사항의 변화와 직결된다, 그 변화를 undo할 수 있음
- savings: 자동화는 시스템을 준비하는 데 필요한 시간을 줄여줄 뿐만 아니라 에러의 위험도 줄임.

# Provisioning
프로비저닝은 소프트웨어 엔지니어링에서 OS 파라미터가 적합하게 설정된 서버, Network Interface와 접근 권한, 필요 소프트웨어 설치와 필요 데이터 수집등을 작업하도록 설정된 자동화된 동작들의 집합으로 이해한다. 일반적으로 이 단어는 깨끗한 새 머신 만드는 것부터, 제대로 작동하기에 완벽히 준비된 단계까지 만드는 모든 작업들을 의미한다.

실전에서, 프로비저닝을 준비할때는 특정 class들, 정의된 속성, 관계, 정보의 flow 등을 사용하여 희망하는 OS의 상태를 표현하는 것부터 시작한다. 그런 것들의 예는, 특정 체크섬을 가진 파일, 특정 권한을 가진 카탈로그, 시작되거나 멈춘 서비스, 



CI/CD : 
Orb










